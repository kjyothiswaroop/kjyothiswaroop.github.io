{{ $email := .Get "email" }}
{{ $linkedin := .Get "linkedin" }}
{{ $github := .Get "github" }}
{{ $img := .Get "img" }}
{{ $imgsParam := .Get "imgs" }}
{{ $imgs := slice }}
{{ if $imgsParam }}
  {{ $imgs = split $imgsParam "," }}
  {{ $imgs = apply $imgs "trim" "." " " }}
{{ end }}
{{ $uid := printf "intro-gallery-%d" now.Unix }}

<style>
.intro-block { display: flex; align-items: flex-start; gap: 0.9rem; padding: 0.5rem 0; flex-wrap: nowrap; width: 100%; }
.intro-text { flex: 10 1 0; min-width: 0; text-align: left; margin-left: 0; max-width: 1500px; }
.intro-media { flex: 0 0 auto; margin-left: auto; text-align: right; align-self: flex-start; }
.intro-media img { width: 200px; height: 150px; object-fit: cover; border-radius: 10px; box-shadow: 0 6px 18px rgba(0,0,0,0.08); }
.intro-contact { display: flex; align-items: center; gap: 0.5rem; flex-wrap: wrap; margin-top: 0.35rem; }
.intro-label { font-weight: 600; }
@media (max-width: 720px) {
  .intro-block { flex-wrap: wrap; }
  .intro-media { margin-left: 0; }
}
</style>

<div class="intro-block">
  <div class="intro-text">
    <p style="margin: 0 0 0.4rem 0; font-size: 0.8rem; line-height: 1.55;">
    Hi, I’m Jyothi Swaroop, a Robotics Engineer driven by building robotic systems that improve everyday life.
I’m pursuing an M.S. in Robotics at Northwestern University and always happy to connect and talk robotics.   
    </p>

    <div class="intro-contact">
      <a href="mailto:{{ $email }}" aria-label="Email" style="text-decoration:none;">
        <span style="width: 36px; height: 36px; border-radius: 50%; background:#111; color:#fff; display:inline-flex; align-items:center; justify-content:center;">
          <i class="fas fa-envelope" style="font-size: 0.9rem;"></i>
        </span>
      </a>
      <a href="{{ $linkedin }}" target="_blank" rel="noopener" aria-label="LinkedIn" style="text-decoration:none;">
        <span style="width: 36px; height: 36px; border-radius: 50%; background:#111; color:#fff; display:inline-flex; align-items:center; justify-content:center;">
          <i class="fab fa-linkedin-in" style="font-size: 0.9rem;"></i>
        </span>
      </a>
      <a href="{{ $github }}" target="_blank" rel="noopener" aria-label="GitHub" style="text-decoration:none;">
        <span style="width: 36px; height: 36px; border-radius: 50%; background:#111; color:#fff; display:inline-flex; align-items:center; justify-content:center;">
          <i class="fab fa-github" style="font-size: 0.9rem;"></i>
        </span>
      </a>
    </div>
  </div>

  <div class="intro-media">
    {{ if gt (len $imgs) 0 }}
      {{ $first := index $imgs 0 }}
      <div id="{{ $uid }}" data-imgs="{{ delimit $imgs "," }}" style="display:inline-block;">
        <img src="{{ $first }}" alt="Intro image">
      </div>
      <script>
      (function(){
        var el = document.getElementById('{{ $uid }}');
        if(!el) return;
        var data = el.dataset.imgs || '';
        var imgs = data.split(',').map(function(s){ return s.trim(); }).filter(Boolean);
        if(imgs.length <= 1) return;
        var imgEl = el.querySelector('img');
        var idx = 0;
        setInterval(function(){ idx = (idx+1) % imgs.length; imgEl.src = imgs[idx]; }, 3000);
      })();
      </script>
    {{ else }}
      <img src="{{ $img }}" alt="Intro image">
    {{ end }}
  </div>
</div>
